>##**文件说明**

**1) /etc/passwd 文件**
	存放用户信息及其相关信息（密码除外）
	每一行用"：" 分隔，7个域，情况如下：
	用户名：加密口令（存放于shadow文件）：UID：GID：用户的描述信息：主目录：命令解释器(登录 shell)

**2) /etc/shadow 文件**
	存放经过加密后的口令，提高/etc/passwd（所有用户可读）的安全性，每个用户占用一行。开始时间默认1970.1.1
	用户登录名：加密后的口令：从开始时间到最近一次口令被修改的天数：最短口令存活期：最长口令存活期：
			口令过期前几天提醒用户：口令过期后几天账户被禁：口令被禁具体日期：保留域（用于功能扩展）

**3) /etc/login.defs 文件**
	设置用户账户的某些选项（eg: 账户密码）

**4) /etc/group 文件**
	存放用户的组账户信息，以“：”分为四个域， 如：
	组群名称：组群口令(一般为空)：GID：组群成员列表

**5) /etc/gshadow 文件**
	存放组群的加密口令、组管理员等信息，以“：”分隔为四个域：
	组群名称：加密后的组群口令：组群的管理员：组群成员列表


>##**用户管理**

###**新建用户**
useradd   [选项]   <username>

**useradd 命令选项**　
| 参数（+ 其他参数）      |    说明 | 
| :-------- |: --------| 
| -c   | 用户的注解性信息 eg: useradd -c "我的注解"|
| -d  |  指定用户的主目录  |
| -e  | 禁用账号的日期， 格式为 YYYY-MM-DD   |  
| -f  |  设置用户账户过期多少天后被禁用 (eg.如果为0，过期后立即禁用；为-1，过期后不禁用)  | 
| -G  | 用户所属的附属组群列表，多个组群之间用逗号分隔   |
| -g  |  用户所属主组群的组群名或者GID | 
| -m  | 若用户主目录不存在则创建它  |
| -M  | 不用创建用户主目录  |  
| -n  |  不要为用户创建用户私人组群  |
| -p  | 加密的口令  |
| -r  |  创建UID小于500的不带主目录的系统账号 |
| -s  |  指定用户的登录shell， 默认为/bin/bash |
| -u  | 指定用户的UID， 它必须是唯一的且大于499  |   


###**设置用户账户口令**
>passwd   [选项]   <username>
**passwd 命令选项**　

| 参数（+ 其他参数） |    说明 | 
| :-------- |: --------| 
| -l   |  锁定(停用)用户账户 |
| -u  | 口令解锁 |
| -d  | 将用户口令设置为空（可登录） |
| -f   | 强迫用户下次登录时必须修改口令 |
| -n  | 指定口令的最短存活期 |
| -x  | 指定口令的最长存活期 |
| -w | 口令要到期前提前警告的天数 |
| -i   | 口令过期后多少天停用账户 |
| -S  | 显示账户口令的简短状态信息 |
 

###chage   [选项]   <username>

**chage 命令选项**　
| 参数     |    说明 | 
| :-------- |: --------| 
| -l    | 列出账户口令的各个数值 |
| -m  | 指定口令最短存活期 |
| -M  | 指定口令最长存活期 |
| -W  | 口令到期前提前警告的天数 |
| -I    | 口令过期后多少天停用账户 |
| -E   | 用户账户到期作废的日期 |
| -d   | 设置口令上一次修改的日期 |


>**禁用和回复账号**
```bash 
[root@uname ~] passwd -l user1       //禁用账户
[root@uname ~] tail -l /etc/shadow   //查看禁用的账户
[root@uname ~] passwd -u user1      //重新启用禁用的账户

[root@uname ~] usermod -L user1       //禁用账户
[root@uname ~] usermod -U user1       //启用账户

[root@uname ~] userdel -r user1         //若不加 -r , userdel 会在所有与账户有关的文件中删除该用户信息
#创建和删除群组用groupadd 和 groupdel (后加群组名)
```

>###组群管理

###维护组群账户
**groupmod 命令选项**　
| 参数     |    说明 | 
| :-------- |: --------| 
| -g gid                  | 把组群的GID改成gid |
| -n group-name    | 把组群的名称改为group-name |
| -o                        | 强制接受更改的组的GID为重复的号码 |

>###为组群添加账户
gpasswd   [选项]    [用户]    [组]
**gpasswd 命令选项**　
| 参数     |    说明 | 
| :-------- |: --------| 
| -a    | 把用户加入组 |
| -d    | 把用户从组中删除 |
| -r     | 取消组的密码 |
| -A    | 给组指派管理员 |

```bash 
[root@uname ~]  gpasswd -a user1 testgroup
```

>## 常用的账户管理命令
| 命令     |    说明 | 
| :-------- |: --------| 
| vipw  | 可用于直接对账户文件/etc/passwd 进行编辑 |
| vigr   | 可用于直接对组群文件/etc/group 进行编辑 |
| pwck  | 用于验证用户账户文件认证信息的完整性 |
| grpck  | 用于验证用户组群文件认证信息的完整性 |
| id  | 显示一个用户的UID和GID以及用户所属的组列表， eg: id user1 |
| finger、chfn、chsh  | 查看用户的相关信息， 参数有：-l, -m, -s, -p |
| whoami  | 显示当前用户名 |
| newgrp   | 转换用户的当前组到指定的主组群 |


